# Open Crypto Checkout Configuration
#
# Copy this file to `ocrch-config.toml` and customize for your deployment.
# The server reads the database URL from the DATABASE_URL environment variable.

[server]
# The address and port to listen on.
# Can be overridden with the --listen CLI flag.
listen = "0.0.0.0:8080"

[admin]
# Admin API secret for the dashboard.
# 
# IMPORTANT: On first run, if this is plaintext (doesn't start with "$argon2"),
# the server will automatically hash it using Argon2 and rewrite this file.
# 
# You can set a plaintext password here and let the server hash it, or
# pre-generate an Argon2 hash using a tool like `argon2`.
secret = "change-me-to-a-secure-password"

# Merchant configuration
# The merchant represents the application that creates checkout orders.
[merchant]
# Human-readable name
name = "Example Store"
# Secret key for signing API requests (HMAC-SHA256)
# Keep this secure and share only with your backend.
secret = "your-merchant-secret-key-here"
# Allowed origins for CORS (frontend checkout URLs)
allowed_origins = [
    "https://checkout.your-app.example.com",
    "http://localhost:3000"  # For local development
]

# Wallet configurations
# Each wallet is an address that can receive payments.
# You should use dedicated wallets for this service.

# Ethereum mainnet wallet
[[wallets]]
blockchain = "eth"
address = "0xYourEthereumWalletAddress"
enabled_coins = ["USDT", "USDC"]
# Optional: Starting transaction hash for initial sync.
# When no transfers exist in the database, sync will start from this
# transaction's block instead of from the beginning.
# starting_tx = "0x..."

# Polygon wallet
[[wallets]]
blockchain = "polygon"
address = "0xYourPolygonWalletAddress"
enabled_coins = ["USDT", "USDC"]

# Arbitrum One wallet
[[wallets]]
blockchain = "arb"
address = "0xYourArbitrumWalletAddress"
enabled_coins = ["USDT", "USDC"]

# Base wallet
[[wallets]]
blockchain = "base"
address = "0xYourBaseWalletAddress"
enabled_coins = ["USDC"]

# Tron wallet
[[wallets]]
blockchain = "tron"
address = "TYourTronWalletAddress"
enabled_coins = ["USDT"]
# Optional: Starting transaction hash for initial sync.
# When no transfers exist in the database, sync will start from this
# transaction's timestamp instead of from the beginning.
# starting_tx = "..."

# Additional blockchain options:
# - "linea" - Linea mainnet
# - "op" - Optimism
# - "avaxc" - Avalanche C-Chain
#
# Supported stablecoins: "USDT", "USDC", "DAI"
# Note: Not all coins are available on all chains.
